<!DOCTYPE html>
<html class="no-js" lang="de-AT">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> Labyrinth-Spiel mit Scratch und JavaScript </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.71.1" />
    <!-- Fonts -->
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,500,600,700,800' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">

    <!-- Stylesheets -->
    
    
    
    <link rel="stylesheet" href="https://linz.coderdojo.net/vendor.min.0333747b3befa5b94134ff44f8faaa1f7cf970af0c6db42443c186eaf3c65490.css">
    <link rel="stylesheet" href="https://linz.coderdojo.net/css/animate.css">

    
    
    
    
    <link rel="stylesheet" href="https://linz.coderdojo.net/style.min.074f5318c0be1ccca88a7eb2753db5e7a7aae600720f72e50844a9f3ab7fe2b6.css">
</head>

<body id="body">
    <!-- NAVIGATION -->
<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light ">
    <div class="container">
        <a class="navbar-brand" href="/"><img src="/img/logo.png" height="30"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item ">
                    <a class="nav-link" href="/termine">Termine</a>
                </li>
                <li class="nav-item dropdown ">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Infos
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="/info/kinder-und-jugendliche">Für Kinder und Jugendliche</a>
                        <a class="dropdown-item" href="/info/eltern">Für Eltern</a>
                        <a class="dropdown-item" href="/info/mentoren">Für Mentoren</a>
                        <a class="dropdown-item" href="/info/schulen">Für Schulen</a>
                    </div>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/mentoren">Mentoren</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/sponsoring">Sponsoring</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/uebungsanleitungen">Übungsanleitungen</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

    
    

    

<section>
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <nav class="breadcrumb-nav" aria-label="breadcrumb">
<ol class="breadcrumb">
    















<li class="breadcrumb-item">
    <a href="https://linz.coderdojo.net/uebungsanleitungen/">Übungsanleitungen</a>
</li>





<li class="breadcrumb-item">
    <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/">Programmieren</a>
</li>





<li class="breadcrumb-item">
    <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/">Web</a>
</li>





<li class="breadcrumb-item active ">
    <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/labyrinth-mit-svg/">Labyrinth-Spiel mit Scratch und JavaScript</a>
</li>


</ol>


</nav>
                
                

<h1 id="labyrinth-spiel-mit-scratch-und-javascript">Labyrinth-Spiel mit Scratch und JavaScript</h1>

<h2 id="ziel-der-übung">Ziel der Übung</h2>

<p>In dieser Übung programmierst du ein Labyrinth-Spiel <a href="../scratch/scratch-labyrinth.html">erst mit Scratch</a> und danach mit JavaScript. So lernst du, das, was du in Scratch über Programmieren gelernt hast, in einer textbasierten Programmiersprache anzuwenden.</p>

<p><strong>Es ist wichtig, dass du vor dieser Übung die <a href="../scratch/scratch-labyrinth.html">Scratch-Variante dieses Spiels</a> genau angesehen oder noch besser selbst programmiert hast.</strong></p>

<h2 id="spielbeschreibung">Spielbeschreibung</h2>

<div class="row sushi-intro">
    <div class="col-sm-6"><img alt="Labyrinth Game" src="labyrinth/labyrinth-game.png" /></div>
    <div class="col-sm-6">
        <p>Steuere mit den Cursortasten den Spieler (blaue Kugel). Dein Ziel ist es, das mit "X" markierte Ziel zu erreichen.</p>
        <p>Die schwarzen und roten Felder sind Hindernisse. Schwarze Felder kannst du zerstören, indem du Anlauf nimmst. Rote kannst du nicht zerstören.</p>
        <p>Ziel ist es, mit möglichst wenigen Bewegungen das Ziel zu erreichen. Damit du deine Versuche vergleichen kannst, soll bei Erreichen des Ziel ausgegeben werden, wie viele Bewegungen du gebraucht hast.</p>
    </div>
</div>

<h2 id="javascript">JavaScript</h2>

<h3 id="entwicklungsumgebung">Entwicklungsumgebung</h3>

<ol>
<li><p>Öffne einen beliebigen Texteditor. Empfehlenswert ist ein Editor, der speziell für Softwareentwicklung gedacht ist. Wir empfehlen <a href="https://code.visualstudio.com/" target="_blank">Visual Studio Code</a>. Dieser Editor ist kostenlos und funktioniert unter Windows, MacOS und Linux).</p></li>

<li><p>Erstelle eine neue Textdatei. In <em>Visual Studio Code</em> geht das so: <br/><img src="html-meine-erste-webseite/code-neue-datei.png" alt="Neue Datei in Visual Studio Code erstellen" /></p></li>

<li><p>Speichere die Datei in einem Ordner unter dem Namen <code>index.html</code> ab. Merke dir den Ordner, in dem du sie speicherst. Du wirst ihn gleich brauchen.</p></li>

<li><p>Gib folgenden Code in die neue Datei ein und vergiss nicht, danach die Änderungen zu speichern.</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg.js&#34;&gt;&lt;/script&gt;
    &lt;script src=&#34;index.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;svg id=&#34;svg&#34; width=&#34;480&#34; height=&#34;360&#34;&gt;
    &lt;/svg&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre></li>

<li><p>Erstelle eine zweite Textdatei und speichere sie in dem gleichen Ordner wie <code>index.html</code> unter dem Namen <code>index.js</code> ab.</p></li>

<li><p>Gib folgenden Code in die neue Datei ein und vergiss nicht, danach die Änderungen zu speichern.</p>
<pre><code>window.onload = function () {
    // Die folgende Zeile ist nur zum Testen da. Wir werden sie 
    // in Kürze wieder löschen.
    windows.alert(&#34;Hallo!&#34;);
};</code></pre></li>

<li><p>Suche die gespeicherte Datei im Dateiexplorer (Windows) bzw. Finder (MacOS). Öffne sie durch Doppelklick. Ein Webbrowser sollte sich öffnen und es sollte die Meldung <em>Hallo!</em> erscheinen.</p></li>
</ol>

<h3 id="globale-variablen">Globale Variablen</h3>

<ol>
<li><p>Genau wie in Scratch beginnen wir mit dem Anlegen von Variablen. Die <em>Variablen</em> in JavaScript entsprechen den <em>Daten</em> in Scratch.</p></li>

<li><p>Öffne die Datei <code>index.js</code> und ändere den Code wie folgt. <strong>Tipp:</strong> Alle Zeilen, die mit <code>//</code> beginnen, sind nur Kommentare. Sie sollen dir beim Verstehen des Codes helfen. Du musst sie aber nicht abtippen. Das Programm funktioniert auch ohne sie.</p>
<pre><code>window.onload = function () {
    // Die folgende Zeile versetzt JavaScript in den &#34;Strict Mode&#34;. Dadurch zwingt es dich,
    // sauberen Code zu schreiben. Ohne diese Zeile versucht JavaScript bei Fehlern zu erraten,
    // was du gemeint hast. Das führt aber oft zu Fehlern. Daher solltest du immer den &#34;Strict Mode&#34;
    // einschalten, um Fehler schnell zu entdecken. Mehr zum &#34;Strict Mode&#34; kannst du unter
    // http://www.w3schools.com/js/js_strict.asp nachlesen.
    &#34;use strict&#34;;

    // Globale Variablen anlegen. Das entspricht in etwa den Variablen,
    // die du aus Scratch kennst.
    var spielfeld = [],
        elemente = [],
        svg = new Snap(&#34;#svg&#34;),
        spielerSpalteIndex,
        spielerZeileIndex,
        zielSpalteIndex,
        zielZeileIndex,
        spieler,
        ziel,
        sekundenProSchritt = 0.2,
        sekundenAnlauf = 0.3,
        sekundenStoss = 0.1,
        anzahlBewegungen = 0;

    // &lt;&lt;&lt;--- HIER PROGRAMMIERST DU IM NÄCHSTEN SCHRITT WEITER
};</code></pre></li>

<li><p>Achte besonders auf die Zeile <code>svg = Snap(&quot;#svg&quot;),</code>. Hier verwenden wir die Bibliothek <a href="http://snapsvg.io/" target="_blank"><em>Snap.svg</em></a>. <em>Snap.svg</em> erleichtert die Arbeit mit SVG in JavaScript ganz gewaltig. Möchtes du mehr über SVG und Snap.svg lernen? Wir haben <a href="http://coderdojo-linz.github.io/infos/uebungsbeispiele.html" target="_blank">eigene Übungen dazu im Bereich <em>Web</em></a>.</p></li>

<li><p>Achte auf den Hinweis <code>// &lt;&lt;&lt;--- HIER PROGRAMMIERST DU IM NÄCHSTEN SCHRITT WEITER</code>. Die Funktionen, die in Folge beschrieben sind, musst du eine nach der anderen an dieser Stelle einfügen.</p></li>
</ol>

<h3 id="spielfeld-aufbauen">Spielfeld aufbauen</h3>

<p>Jetzt können wir die Variablen für das Spielfeld setzen. Die folgende Grafik stellt den Scratch- und den JavaScript-Code gegenüber. Vergleiche sie und achte auf Unterschiede und Gemeinsamkeiten:</p>

<p><img src="labyrinth/variablen-fuer-spielfeld-setzen.png" alt="Variablen für Spielfeld setzen" />{: .full}</p>

<p>Hier der Code als Text, den du in dein Programm einfügen musst:</p>
<pre><code>    function variablenFuerSpielfeldSetzen() {
        // Lösche alle vorhandenen Zeilen im Spielfeld
        // Mehr zur Funktion &#34;splice&#34; findest du unter 
        // http://www.w3schools.com/jsref/jsref_splice.asp
        spielfeld.splice(0, spielfeld.length);

        // Füge Zeilen des Labyrinth hinzu. &#34;M&#34; steht für &#34;Mauer&#34;, 
        // ein zerstörbares Element. &#34;B&#34; steht für &#34;Beton&#34;, 
        // ein unzerstörbares Element. &#34;O&#34; ist ein Platzhalter 
        // für ein leeres Feld.
        spielfeld.push(&#34;MMMMMMMMMMMMMMMO&#34;);
        spielfeld.push(&#34;OOMMOBMBOOMMMMMM&#34;);
        spielfeld.push(&#34;MOMOOOOOOMBMOOBM&#34;);
        spielfeld.push(&#34;MMMMMMMOMMOOOBMM&#34;);
        spielfeld.push(&#34;MOOOOOOOOBMMMBBM&#34;);
        spielfeld.push(&#34;MBMMBMMBBMMBBOOM&#34;);
        spielfeld.push(&#34;MMOOOOOBOMOOMMOB&#34;);
        spielfeld.push(&#34;MOOBMMMOOMMOOOBM&#34;);
        spielfeld.push(&#34;BMMMMBBOMBOOMMMM&#34;);
        spielfeld.push(&#34;MBBBBOMMMMBMMOOM&#34;);
        spielfeld.push(&#34;MOMMOOBMOOOMOOOM&#34;);
        spielfeld.push(&#34;MMMMMMMMMMMMBBBB&#34;);

        // Positionen für Spieler und Ziel festlegen
        spielerSpalteIndex = 1;
        spielerZeileIndex = 2;
        zielSpalteIndex = 1;
        zielZeileIndex = 10;
    }</code></pre>
<p>Jetzt haben wir die Variablen für das Spielfeld. Wir können sie verwenden, um die Labyrinthelemente aufzubauen. Beim Positionieren der Elemente müssen wir beachten, dass das Koordinatensystem von SVG anders ist als das von Scratch. Wärend bei Scratch der Mittelpunkt mit x=0 und y=0 genau in der Mitte des Spielfelds ist, ist der Mittelpunkt bei SVG links oben.</p>

<p><img src="labyrinth/svg-spielfeld.png" alt="SVG Spielfeld" /></p>

<p>Außerdem musst du bedenken, dass bei Scratch der Nullpunkt einer Figur mit x=0 und y=0 in der Mitte liegt (kann im Figureneditor geändert werden):</p>

<p><img src="labyrinth/scratch-figur-nullpunkt.png" alt="Scratch Nullpunkt einer Figur" /></p>

<p>Bei SVG liegt der Nullpunkt aber links oben:</p>

<p><img src="labyrinth/svg-figur-nullpunkt.png" alt="SVG Nullpunkt einer Figur" /></p>

<p>Die folgende Grafik stellt den Scratch- und den JavaScript-Code für das Aufbauen des Spielfelds gegenüber. Vergleiche sie und achte auf Unterschiede und Gemeinsamkeiten:</p>

<p><img src="labyrinth/baue-spielfeld.png" alt="Baue Spielfeld" />{: .full}</p>

<p>Hier der Code als Text, den du in dein Programm einfügen musst:</p>
<pre><code>    function erzeugeClone(aktuellesFeld, spalteIndex, zeileIndex) {
        var aussehen,
            element;
        if (aktuellesFeld === &#34;M&#34;) {
            // Mauer -&gt; dunkles Grau
            aussehen = { fill: &#39;#373737&#39; };
        } else {
            // Beton -&gt; Rot
            aussehen = { fill: &#39;#ff3838&#39; };
        }

        // Labyrinthelement hinzufügen
        element = svg.rect(spalteIndex * 30, zeileIndex * 30, 30, 30)
            .attr(aussehen)
            .data({ spalteIndex: spalteIndex, zeileIndex: zeileIndex });

        // In Scratch musst du dich nicht um das Verwalten der Klone kümmern. Scratch
        // macht das für dich. In JavaScript müssen wir alle erstellten Klone selbst
        // speichern, damit wir später wieder auf sie zugreifen können.
        elemente.push(element);
    }

    // Labyrinth auf Basis des Inhalts der Variable &#34;spielfeld&#34; aufbauen
    function baueSpielfeld() {
        var zeileIndex,
            spalteIndex,
            aktuellesFeld;
        for (zeileIndex = 0; zeileIndex &lt; 12; zeileIndex++) {
            for (spalteIndex = 0; spalteIndex &lt; 16; spalteIndex++) {
                aktuellesFeld = spielfeld[zeileIndex][spalteIndex];
                if (aktuellesFeld === &#34;M&#34; || aktuellesFeld === &#34;B&#34;) {
                    erzeugeClone(aktuellesFeld, spalteIndex, zeileIndex);
                }
            }
        }
    }</code></pre>
<h3 id="schwarze-hindernisse-zerstören">Schwarze Hindernisse zerstören</h3>

<p>Die nächste Funktion, die wir brauchen, kümmert sich um das Zerstören von schwarzen Hindernissen. Die folgende Grafik stellt den Scratch- und den JavaScript-Code gegenüber. Vergleiche sie und achte auf Unterschiede und Gemeinsamkeiten:</p>

<p><img src="labyrinth/zerstoere.png" alt="Schwarze Hindernisse zerstören" />{: .full}</p>

<p>Hier der Code als Text, den du in dein Programm einfügen musst:</p>
<pre><code>    function zerstoere(zerstoereZeileIndex, zerstoereSpalteIndex) {
        var index,
            neueLabyrinthZeile,
            aktuelleZeile,
            aktuelleSpalteIndex;

        // In Scratch kann man mit &#34;Sende ... an alle&#34; ganz einfach eine Nachricht an alle
        // Klone aller Figuren schicken. So etwas gibt es in JavaScript nicht. Wir müssen
        // selbst in einer Schleife alle Klone der Labyrinthelemente durchgehen. Genau das
        // macht die folgende Schleife.
        for (index = 0; index &lt; elemente.length; index++) {
            if (elemente[index].data(&#34;spalteIndex&#34;) === zerstoereSpalteIndex &amp;&amp; elemente[index].data(&#34;zeileIndex&#34;) === zerstoereZeileIndex) {
                // Die Variable wird hier bewusst auf einen leeren Inhalt gesetzt
                neueLabyrinthZeile = &#34;&#34;;
                aktuelleZeile = spielfeld[zerstoereZeileIndex];

                // Wir kopieren die Labyrinthzeile, in der das zu zerstörende Element enthalten ist. 
                // Alle Elemente werden unverändert kopiert, nur das zu zerstörende Element nicht.
                for (aktuelleSpalteIndex = 0; aktuelleSpalteIndex &lt; 16; aktuelleSpalteIndex++) {
                    if (aktuelleSpalteIndex === zerstoereSpalteIndex) {
                        neueLabyrinthZeile += &#34;O&#34;;
                    } else {
                        neueLabyrinthZeile += aktuelleZeile[aktuelleSpalteIndex];
                    }
                }

                // JavaScript hat eine Funktion, die Scratch nicht hat: &#34;substring&#34;. Sie gibt dir einen
                // Teil einer Texts zurück. Damit könnte man die gesamte, oben gezeigte Schleife, durch
                // eine einzige Zeile ersetzen. Mehr über substring findest du unter
                // http://www.w3schools.com/jsref/jsref_substring.asp
                ////neueLabyrinthZeile = aktuelleZeile.substring(0, zerstoereSpalteIndex) + &#34;O&#34; +
                ////    aktuelleZeile.substring(zerstoereSpalteIndex + 1);

                spielfeld.splice(zerstoereZeileIndex, 1, neueLabyrinthZeile);

                elemente[index].remove();
            }
        }
    }</code></pre>
<h3 id="den-spieler-programmieren">Den Spieler programmieren</h3>

<p>Wie in Scratch brauchen wir für den Spieler einige Hilfsfunktionen. Die folgende Grafik stellt den Scratch- und den JavaScript-Code gegenüber. Vergleiche sie und achte auf Unterschiede und Gemeinsamkeiten:</p>

<p><img src="labyrinth/position-rechnen.png" alt="Spieler Positionieren" />{: .full}</p>

<p>Hier der Code als Text, den du in dein Programm einfügen musst:</p>
<pre><code>    // Ermittle das Element im Spielfeld an der angegebenen Position
    function ermittleSpielfeldelement(zeile, spalte) {
        return spielfeld[zeile][spalte];
    }

    // Bewege den Spieler zur angegebenen Position in der angegebenen Zeit.
    function aktualisiereSpielerposition(zeile, spalte, sekunden, next) {
        var transformation = &#34;t&#34; + (spalte * 30 + 15).toString() + &#34;,&#34; + (zeile * 30 + 15).toString();
        spieler.animate({ transform: transformation }, sekunden * 1000, next);
    }</code></pre>
<p>Der Block für das Bewegen war in Scratch ziemlich groß und kompiliziert. Die gute Nachricht ist, dass die Logik in JavaScript fast genau wie in Scratch funktioniert. Die folgende Grafik stellt den Scratch- und den JavaScript-Code für das vertikale Bewegen gegenüber. Vergleiche sie und achte auf Unterschiede und Gemeinsamkeiten:</p>

<p><img src="labyrinth/bewege-vertikal.png" alt="Spieler bewegen" />{: .full}</p>

<p>Hier der Code als Text, den du in dein Programm einfügen musst:</p>
<pre><code>    // Führe eine vertikale Bewegung (oben/unten) durch
    function bewegeVertikal(bewegung) {
        var aktuellesFeld;

        // Stelle sicher, dass sich der Spieler nicht aus den Grenzen des Labyrinths bewegt (wir haben 12 Zeilen)
        if (spielerZeileIndex + bewegung &gt;= 0 &amp;&amp; spielerZeileIndex + bewegung &lt; 12) {
            aktuellesFeld = ermittleSpielfeldelement(spielerZeileIndex + bewegung, spielerSpalteIndex);
            if (aktuellesFeld === &#34;O&#34;) {
                // Das Zielfeld ist leer, der Spieler kann sich hin bewegen
                anzahlBewegungen++;
                spielerZeileIndex += bewegung;
                aktualisiereSpielerposition(spielerZeileIndex, spielerSpalteIndex, sekundenProSchritt);
            } else {
                if (aktuellesFeld === &#34;M&#34;) {
                    // Das Zielfeld enthält ein Element, das zerstörbar ist
                    aktuellesFeld = ermittleSpielfeldelement(spielerZeileIndex + bewegung * (-1), spielerSpalteIndex);
                    if (aktuellesFeld === &#34;O&#34;) {
                        // Es ist Platz, dass der Spieler Anlauf nehmen kann
                        anzahlBewegungen++;
                        aktualisiereSpielerposition(spielerZeileIndex + bewegung * (-1), spielerSpalteIndex, sekundenAnlauf, function () {
                            aktualisiereSpielerposition(spielerZeileIndex, spielerSpalteIndex, sekundenStoss, function () {
                                zerstoere(spielerZeileIndex + bewegung, spielerSpalteIndex);
                            });
                        });
                    }
                }
            }
        }
    }

    // Führe eine horizonale Bewegung (links/rechts) durch
    function bewegeHorizontal(bewegung) {
        var aktuellesFeld;

        // Stelle sicher, dass sich der Spieler nicht aus den Grenzen des Labyrinths bewegt (wir haben 16 Spalten)
        if (spielerSpalteIndex + bewegung &gt;= 0 &amp;&amp; spielerSpalteIndex + bewegung &lt; 16) {
            aktuellesFeld = ermittleSpielfeldelement(spielerZeileIndex, spielerSpalteIndex + bewegung);
            if (aktuellesFeld === &#34;O&#34;) {
                // Das Zielfeld ist leer, der Spieler kann sich hin bewegen
                anzahlBewegungen++;
                spielerSpalteIndex += bewegung;
                aktualisiereSpielerposition(spielerZeileIndex, spielerSpalteIndex, sekundenProSchritt);
            } else {
                if (aktuellesFeld === &#34;M&#34;) {
                    // Das Zielfeld enthält ein Element, das zerstörbar ist
                    aktuellesFeld = ermittleSpielfeldelement(spielerZeileIndex, spielerSpalteIndex + bewegung * (-1));
                    if (aktuellesFeld === &#34;O&#34;) {
                        // Es ist Platz, dass der Spieler Anlauf nehmen kann
                        anzahlBewegungen++;
                        aktualisiereSpielerposition(spielerZeileIndex, spielerSpalteIndex + bewegung * (-1), sekundenAnlauf, function () {
                            aktualisiereSpielerposition(spielerZeileIndex, spielerSpalteIndex, sekundenStoss, function () {
                                zerstoere(spielerZeileIndex, spielerSpalteIndex + bewegung);
                            });
                        });
                    }
                }
            }
        }
    }</code></pre>
<p>Nachdem du jetzt alle <em>Hilfsfunktionen</em> programmiert hast, können wir sie mit der Tastensteuerung verknüpfen. Die folgende Grafik stellt den Scratch- und den JavaScript-Code gegenüber. Vergleiche sie und achte auf Unterschiede und Gemeinsamkeiten:</p>

<p><img src="labyrinth/spielstart.png" alt="Tastensteuerung" />{: .full}</p>

<p>Hier der Code als Text, den du in dein Programm einfügen musst:</p>
<pre><code>    function spielstart() {
        var transformation;

        // Positioniere Spieler
        spieler = svg.ellipse(0, 0, 15, 15).attr({ fill: &#39;#5d9eff&#39; });
        transformation = &#34;t&#34; + (30 + spielerSpalteIndex * 30 - 15).toString() + &#34;,&#34; + (30 + spielerZeileIndex * 30 - 15).toString();
        spieler.transform(transformation);

        // Positioniere Ziel
        ziel = svg.g();
        ziel.add(svg.line(1, 1, 29, 29).attr({ stroke: &#34;#373737&#34;, strokeWidth: 2, strokeLinecap: &#34;round&#34; }));
        ziel.add(svg.line(29, 1, 1, 29).attr({ stroke: &#34;#373737&#34;, strokeWidth: 2, strokeLinecap: &#34;round&#34; }));
        transformation = &#34;t&#34; + (zielSpalteIndex * 30).toString() + &#34;,&#34; + (zielZeileIndex * 30).toString();
        ziel.transform(transformation);

        document.onkeydown = function (evt) {
            // Reagiere auf Tastendruck
            evt = evt || window.event;
            if (evt.keyCode === 39) {
                // Nach rechts
                bewegeHorizontal(1);
            } else if (evt.keyCode === 37) {
                // Nach links
                bewegeHorizontal(-1);
            } else if (evt.keyCode === 40) {
                // Nach unten
                bewegeVertikal(1);
            } else if (evt.keyCode === 38) {
                // Nach oben
                bewegeVertikal(-1);
            }

            // Ermittle, ob Spieler das Ziel erreicht hat
            if (spielerSpalteIndex === zielSpalteIndex &amp;&amp; spielerZeileIndex === zielZeileIndex) {
                svg.rect(0, 0, 480, 360).attr({ fill: &#39;white&#39;, opacity: 0.75 });
                svg.text(240, 180, &#34;Geschafft! Du hast &#34; + anzahlBewegungen.toString() + &#34; Bewegungen gebraucht&#34;)
                    .attr({ fontFamily: &#39;sans-serif&#39;, fontSize: &#39;20px&#39;, &#34;text-anchor&#34;: &#34;middle&#34; });
            }
        };
    }</code></pre>
<h3 id="los-gehts">Los gehts!</h3>

<p>Zum Abschluss müssen wir in JavaScript noch den Programmstart programmieren. Das sind nur noch wenige Zeilen Code:</p>
<pre><code>    // Hauptprogramm
    variablenFuerSpielfeldSetzen();
    baueSpielfeld();
    spielstart();</code></pre>
<p>Fertig! Versuche mit dem Spieler das Ziel zu erreichen. Wie viele Bewegungen brauchst du? Fordere deine Freundinnen und Freunde heraus. Schaffen sie es genauso schnell wie du?</p>

<h2 id="ausprobieren">Ausprobieren</h2>

<p>Du kannst das fertige Projekt unter <a href="https://plnkr.co/edit/eyPtep9Erl3eFVCfqzcY" target="_blank">https://plnkr.co/edit/eyPtep9Erl3eFVCfqzcY</a> ausprobieren. Dort findest du auch den kompletten Quellcode des Beispiels.</p>

            </div>
        </div>
    </div>
</section>



    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <p>
                        Coding Club Linz,
                        Birkenweg 16,
                        4060 Leonding
                        <br />
                        <a href="mailto:info@linz.coderdojo.net">info@linz.coderdojo.net</a>
                    </p>
                </div>
            </div>
        </div>
    </footer>


    <!-- Js -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <script src="https://linz.coderdojo.net/js/wow.min.js"></script>
    <script src="https://linz.coderdojo.net/js/main.js"></script>

</body>

</html>